grpc:
  maxRecvMsgSize: 16777216 # 16MB
  maxSendMsgSize: 16777216 # 16MB
  maxConcurrentStreams: 100
  keepAlive: 60s    # 每60秒发送一次keepalive ping
  timeout: 10s      # 等待keepalive响应超时时间为10秒

redis:
  cluster:
    - "192.168.101.80:6379"
    - "192.168.101.80:6380" 
    - "192.168.101.80:6381"
    - "192.168.101.80:6382"
    - "192.168.101.80:6383"
    - "192.168.101.80:6384"
  password: ""
  poolSize: 10
  timeout: 5s

database:
  mysql:
    enabled: true
    dsn: "root:password@tcp(localhost:3306)/game_db?charset=utf8mb4&parseTime=True&loc=Local"
    maxOpenConns: 20
    maxIdleConns: 10
    connMaxLifetime: 1h
  mongodb:
    enabled: false
    uri: "mongodb://localhost:27017"
    database: "game_db"
    timeout: 10s

auth:
  secretKey: "your-secret-key-here"
  tokenExpireTime: 24h
  salt: "your-salt-here"
  whitelistPaths:
    - "/api/user/login"
    - "/api/user/register"

# 分布式限流配置（基于Redis）
distributedRateLimit:
  enabled: true              # 是否启用分布式限流（启用后会替代单机限流）
  requestsPerSecond: 100     # 每秒请求数限制
  window: 1s                 # 时间窗口（默认1秒）
  keyPrefix: "ratelimit"     # Redis key前缀

# 熔断器配置
circuitBreaker:
  enabled: true              # 是否启用熔断器
  failureThreshold: 5        # 失败阈值：连续失败5次后开启熔断
  successThreshold: 2        # 成功阈值：半开状态下成功2次后关闭熔断
  timeout: 60s               # 开启状态超时时间：60秒后进入半开状态
  halfOpenMaxRequests: 3     # 半开状态最大请求数：最多允许3个请求通过

websocket:
  checkOrigin: true  # 是否启用Origin检查
  allowedOrigins:    # 允许的Origin列表
    - "http://localhost:3000"
    - "http://localhost:8080"
    - "https://yourdomain.com"
    - "https://*.yourdomain.com"  # 支持通配符